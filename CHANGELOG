tlog_lib CHANGELOG
==================

- 2.0.1 | Feb 26 2026:
  [New] tlog_lib.sh: shared Bash library for incremental log file reading
      with cursor-based position tracking; multi-mode tracking (byte-offset
      via tail -c, line-count via tail -n) selectable per call or TLOG_MODE
      env; mode-aware cursor format (bare number = bytes, L:N = lines) with
      automatic mismatch detection and reset; configurable first-run behavior
      (TLOG_FIRST_RUN=skip|full); structured error codes 0-4; source guard
      prevents double-sourcing
  [New] Atomic cursor writes via mktemp + mv -f; optional flock-based
      cursor locking (TLOG_FLOCK=1) with 5-second timeout; cursor validation
      with regex check and auto-reset on corruption; stale cursor protection
      via mtime touch on every tlog_read call
  [New] Rotation-aware delta reads: .1 and .1.gz discovery with bounds
      checking; .gz read via zcat pipe (read-only, never decompresses on disk)
  [New] tlog_adjust_cursor(): mode-aware cursor subtraction for in-place
      log trim with clamp-to-zero; tlog_advance_cursors(): fast-forward
      multiple file and journal cursors from FILE|TAG pairs
  [New] Journal support: registry-based filter system via parallel indexed
      arrays (avoids declare -A scope issues); tlog_journal_register() for
      consuming projects to define service-to-journalctl mappings;
      tlog_journal_read() cursor-based with timestamp fallback;
      tlog_journal_read_full() for scan mode with timeout support
  [New] Standalone tlog CLI wrapper: sources tlog_lib.sh with security
      check (root ownership, not world-writable); backward-compatible
      argument parsing (file, tlog_name, optional mode); BASERUN
      sed-replaced at install time for cursor storage security
  [New] BATS test suite: 74 tests covering both tracking modes, rotation,
      cursor validation, flock locking, atomic writes, journal, and
      standalone CLI; Docker infrastructure for Debian 12, Rocky 9,
      CentOS 6 with parallel execution
  [New] README.md: public-facing documentation with platform support matrix,
      API reference, security guidance for cursor storage, and usage examples
